<main>
    <div class="container">
        <div class="py-5 text-center">
            <h2>Write a Review!</h2>
        </div>

        <form [formGroup]="createReviewForm" (ngSubmit)="onSubmit()">

            <div class="form-group">
                <div class="row mb-2">
                    <div class="col-md-8 themed-grid-col">
                        <label for="filmSelect">
                            <h5>Select a Film:</h5>
                        </label>
                    </div>
                    <div class="col-md-4 themed-grid-col text-right">
                        <button type="button" class="btn btn-link" (click)="openAddFilmModal()">
                            Film not listed? Add it!
                        </button>
                    </div>
                </div>

                <select class="form-control" formControlName="film">
                    <option *ngFor="let film of films" [ngValue]="film">{{film.title}}</option>
                </select>
                <div class="invalid-feedback d-block" *ngIf="film.invalid && film.touched">
                    Please select a rating!
                </div>
            </div>

            <div class="form-group">
                <label for="rating">
                    <h5>Select a Rating:</h5>
                </label>

                <h1>
                    <rating [max]=10 formControlName="rating"></rating>
                </h1>
                <p *ngIf="rating.value !== ''">({{rating.value}})</p>
                <div class="invalid-feedback d-block" *ngIf="rating.invalid && rating.touched">
                    Please choose a rating!
                </div>
            </div>

            <div class="form-group">
                <label for="review">
                    <h5>Write a Review:</h5>
                </label>
                <textarea formControlName="review" class="form-control" id="review" rows="3"></textarea>
                <div class="invalid-feedback d-block" *ngIf="review.invalid && review.touched">
                    Please write a review!
                </div>

            </div>

            <button [disabled]="createReviewForm.invalid" class="btn btn-lg btn-info btn-block"
                type="submit">Submit</button>

        </form>

    </div>
</main>